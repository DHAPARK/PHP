php 내장함수(문자열 함수)
자주쓰는것들 정리
php는 오픈소스(여러사람이 참여해서 만든)
파이썬도 오픈소스 기반 r??이라는것도 오픈소스 기반
여러사람이 버전을 높여갈수 있는것 = 오픈소스


strlen() : 전달 받은 문자열의 길이를 반환합니다.
strcmp() : 전달받은 두 개 의 문자열을 서로 비교합니다. 첫번째 인수의 문자열이 두번째 인수의 문자열보다 크면
양수를,작으면 음수를 리턴해줍니다. 두 문자열이 같으면 0을 반환해줍니다.
strstr() :  해당 문자열에서 전달받은 문자열과 처음으로 일치하는 부분을 찾습니다. 일치하는 부분이 존재하면
처음으로 일치하는 부분을 포함한 이후 모든 문자를 반환합니다.  (문자열중에 일치하는부분이있으면 거기서부터 끝까지 복사함)
strstr($str1,"cd"); 이렇게

strpos() : 해당 문자열에서 전달받은 문자열과 처음으로 일치하는 부분의 시작 인덱스를 반환합니다.
substr() : 해당 문자열에서 특정 인덱스로부터 전달받은 길이만큼의 일부분을 추출하여 반환합니다. 전달받은 인덱스가
양수인 경우에는 해당 인덱스부터 해당 문자열의 끝까지를 반환합니다. 만약 전달 인덱스가 음수라면 해당 문자열 끝부터
전달받은 음수의 절대값 만큼 문자열을 반환합니다.   



strtolower() : 전달받은 문자열의 모든 문자를 소문자로 바꿔줍니다.
strtoupper() : 전달받은 문자열의 모든 문자를 대문자로 바꿔줍니다.
explode():특정 문자를 기준으로 전달받은 문자열을 나눠서 하나의 배열로 반환합니다.
이거 split랑 똑같은거같은데?
str_replace() : 해당 문자열에서 전달 받은 문자열을 모두 찾은 후에,찾은 문자열을 대체 문자열로 교체합니다.
substr_replace() : 해당 문자열에서 특정 위치의 문자들을 대체 문자열로 교체합니다.


쿠키(cookie)
웹 사이트에 접속할 때 서버에 의해 사용자의 컴퓨터에 저장되는 정보를 의미합니다.
심어줄때 브라우저의 특정 위치에 사용자가 허용한 만큼만 저장이 되는데
웹 사이트는 저장된 사용자의 정보를 클라이언트 측의 컴퓨터에 남겨서 필요할 때마다 재사용합니다.
쿠키의 데이터 형태는 key와 value로 구성된 문자로 이루어져있습니다ㅏ.
4kb이상 저장할 수 없습니다. 무조건 문자만 저장할수있다.이미지 이런거 불가능
사이트들은 사용자의 브라우저에 자기가 심은 쿠키외에 다른 사이트의 쿠키는 보거나 하지 못한다


쿠키를 생성하는 방법
setcookie(쿠키이름,값,만료시간,저장위치,도메인정보,프로토콜);
앞 2개만 넣어줘도 뒤에 3개는 생략가능

setcookie("userid","apple",time()+(60*3),'/');
해석 :  / << 현재폴더에 저장하고 3분뒤 만료 


생성하고나서 쿠키를 읽어오는 방법은
슈퍼글로벌변수엔

$_COOKIE[쿠키이름];

쿠키를 삭제하는방법
쿠키 만료시간을 0또는 과거로 변경 해주면 삭제됨.

유튜브는 쿠키에 내가 눌러보는 동영상같은 카테고리를 쿠키에다 담아줌
얘가 돌아다닐때마다 광고를 띄워야하면 이사람이 자동차쪽을 많이보고있네~~하고
그거에 비솟한광고를 뿌려주든가함


f12 애플리케이션 왼쪽에 스토리지안에 쿠키 로컬호스트를 클릭해보면 유저아이디 벨류 쿠키 키 
쿠키값이 이렇게 담겨져있음 expire 만료날짜 11byte path /현재폴더
얘는 새로고침을 한번이라도하면 그때로부터 3분이후에 만료다
새로고침 할때마다 되살아남

isset() : 존재하느냐안하느냐 or 세팅이 되있니 안되있니


세션(session)
웹 사이트의 여러 페이지에 걸쳐 사용되는 사용자 정보를 저장하는 방법을 의미합니다.
사용자가 브라우저를 닫아 서버와의 연결을 끝내는 시점까지를 세션이라고 하는데요. 세션은
서비스가 돌아가는 서버측에 데이터를 저장하고, 세션의 키값만을 클라이언트 측에 남겨둡니다.
브라우저는 필요할 때마다 이 키값을 이용하여 서버에 저장된 데이터를 사용하게 됩니다.


세션vs쿠키 
쿠키는 사용자 브라우저에 저장이되는데 
&& 쿠키는 사용자가 열어볼수도있고 지워볼수도있는데
세션은 서버의 메모리에 저장이된다
그래서 사용자가 맘대로 컨트롤을 못함
사용자 정보를 세션에담는건 메모리에 담는것
변수랑 다른것은 값을 저장하면 페이지를 
어떤페이지를가도 세션값은 메모리에 계속 저장이됨 static이랑 비슷하넹 이 기능은
여러페이지에걸쳐 사용되는 사용자 정보를 저장하는 방법
				
				요청			서버
		브라우저1	----------------->		(아파치가 하는것)1. 첫 접속때 사용자마다 다른 세션ID를생성(어쩌구저쩌구)	
				<----------------		응답을 하면서는 이 어쩌구저쩌구 세션id를 브라우저에
				응답			쿠키로 심어준다. 프로그래머가 쿠키를 사용하지않아도
												세션아이디(어쩌구~~)
												세션시간 시작~
세션 시간 설정 우선쉰이@@@@@@@@@@@@
1.페이지 시간 설정(php 코드로 세션 시간을 조정)
2.php.ini(session.gc_maxlifetime = 1440 -> 24분)				위부터 1안했으면 2가설정되고 2안햇으면 3이설정되고 내리갈굼 식으로
3.아파치 웹서버에 설정(KeepAliveTimeout 300) ->300초
3.아파치 웹서버에 설정(KeepAliveTimeout 1200) - 20분
c드라이브에 아파치24가서 다시 conf드가서 session이라고 찾아보면 
세션아이디 아래에 만약 필요하다하면 밑에 변수명을써서 변수를 만들어줄수도있다


사이트에 접속만하면 이렇게 쿠키가 심어진다.

다른사이트에 접속해있다 올때 로그인 유지가되어있는이유도
세션타임이 길게잡혀있고 다른페이지를 갔다왔는지는 모르기 때문이다

하지만 타임이 너무길게 잡혀있다면 해킹을 당할수잇음

tcpit 방식? (게임할떄 갑자기 인터넷끊기면 그대로 팅기는?)
웹은 필요할떄만 접속하고 연결하지않고 끊어지는 방식을 사용


세션이 끊어지는 경우
1.웹서버에서 지정된 시간안에 사이트의 페이지 엑세스 하지 않는 경우
2.브라우저를 닫았다가 여는 경우 세션값이 날아감
3.쿠키 정보를 삭제하는 경우


세션을 사용하기 위한 코드
session_start();
*php 에서는 세션을 사용하기 위해 페이지 제일 상단에 session_start()를 꼭! 명시해야합니다.
세팅한 시간이 지나고나면 세션id가 새로 발급된다.



세션 변수 만들기
$_SESSION["키"] = 값;
세션변수 삭제하기
session_unset()을 호출

php 파일다루기 
php는 함수를통해서 파일을 만들수있다
파일을 만들어서 이용하는용도
파일을 만드는 이유로는 소량의 자료를 데이터베이스로 만들수있기도하기때문
돈을아예 들이지않고 데이터베이스를 쓰려하면 파일로 만들어서 쓰는것도 ㄱㅊ
단지 편하지는 않기때문에 ~

한번그냥 썻다말 정보도 file에다가 저장하는것도 나쁘지않은 방법
데이터베이스는 용량이 많아지다보면 pc를 증설하거나 해야하기때문에
컴퓨터를 몇대를쓰느냐에따라 비용이 달라짐

채팅같은걸 한다하면 그 데이터가 엄청많음 그런것들을 다 db에다가 저장하면 다돈이라
서버에 부하도 걸릴수있음
처음에는 db에 저장하다가
백업데이터로 file로 내보내기해서 저장하면 그것도 ㄱㅊ은방법이다.

readfile()
파일에서 데이터를 한 줄 읽어오는 함수 입니다. echo함수가 필요없으며 표시할 위치에 사용하면 읽어온 
내용을 그대로 출력합니다.

file()
매개변수에 지정된 파일을 읽어 한줄씩 나누어 배열에 저장합니다.
* 파일 로드시 실패할 가능성이 있는 경우
$변수 = @file(파일 경로)or 실패 했을경우 처리할 문장;
* @기호를 붙이면 실행시 실패해도 스크립트를 중단하지 않으며,에러를 발생하지 않습니다.



fopen()

file() 함수보다 유연한 코드를 작성하기 위한 함수로,모드를 설정해서 여러가지 파일에 대한 처리를 할 수 있습니다.
$변수 = fopen(파일 경로,모드 지정);
r : 읽기 전용
r+ : 읽고 쓰기전용,파일 내용을 보존하는 방식
w : 쓰기 전용
w+ : 읽고 쓰기, 내용은 삭제,파일이 없으면 새로 생성
a : 쓰기 전용,파일 내용을 보전,파일이 없으면 새로 생성
a+ : 읽고 쓰기, 파일내용을 보전,파일이 없으면 새로 생성

*매개변수 뒤에 b나 t를 추가로 붙여 사용 가능
b : 바이너리 모드로 열기 (이미지 동영상)
t : 텍스트 파일의 라인 변경 태그를 사용하는 모드로 열기 (메모장 같은거)


fgets()
fopen() 함수로 읽은 파일의 데이터를 읽어오는 함수
$변수 = fgets(파일 포인터, fopen()함수로 읽은 변수);
$변수 = fgets(파일 포인터,바이트수)   해당 바이트수만큼 데이터 읽어오고

fputs()
fopen() 함수로 읽은 파일의 데이터를 저장하는 함수
fputs(파일 포인터,데이터);

과제
구글드라이버의 php파일안에다가 text파일을 넣어줄건데 tel.txt라는
tel.txt파일을 읽어서 아래와 같이 출력하는 php파일을 만들어보자.
